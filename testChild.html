<script type="module">
    import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/build/three.module.js';
    import {OBJLoader2} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/loaders/OBJLoader2.js';

    var scene = new THREE.Scene();
    var model;
    var camera;
    var renderer;

    function init() {
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        renderer = new THREE.WebGLRenderer({
            alpha: true
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        var light = new THREE.PointLight(0xffffff);
        light.position.set(-100,-200,100);
        scene.add(light);

        camera.position.z = 6;
    }

    function load() {
        var objLoader = new OBJLoader2();
        objLoader.load('.//manifolg.obj', (root) => {  
            root.updateMatrixWorld();
            root.rotateX(6);
            root.rotateY(2);

            model = root;

            scene.add(model);

        });
    }


    var anim = function() {
        requestAnimationFrame(anim);

        model.rotation.x += 0.005;
        model.rotation.y += 0.005;

        renderer.render(scene, camera);
    };

    
    init();
    load();
    anim();
</script>
