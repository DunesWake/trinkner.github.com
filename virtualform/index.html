<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<title>Virtual Solidification</title>
	<link rel="shortcut icon" href="#">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
	<link href=".//css/main.css" rel="stylesheet">
</head>
<body>
<div id="splash-screen"></div>
</body>	
</html>

<script src=".//js/threex.windowresize.js"></script>
<script type="module">
	const splashScreen  = document.getElementById('splash-screen' );
	
	// spash menu vars
	var menuBtn = [];
	var rotate = true;
	var audio = true;
	var english = ["about	", "yes", "rotation "];
	var german =  ["Über", "aus", "drehung "];
	var french =  ["sur", "1", "tourner "];
	var chinese = ["关于", "联络人", "旋转 "];
	var langs = [english,german,french,chinese];
	var curLang = 3;
    
// -- ▼ MAIN ------------------------------------------------------------------------------------>
   
    	// starts program, calls init() when completed
	splashMenu();

	// rebuilds from scratch, each time a variable is changed
	function splashMenu() {
		while(splashScreen.firstChild) {
			splashScreen.removeChild(splashScreen.firstChild);
		}	
		// LANGUAGE
		menuBtn[0] = insertMenuBtn("english"  , curLang == 0);
		menuBtn[0].onclick = () => {curLang = 0; splashMenu();}
		insertMenuSlash();
		menuBtn[1] = insertMenuBtn("deutsche" , curLang == 1);
		menuBtn[1].onclick = () => {curLang = 1; splashMenu();}
		insertMenuSlash();
		menuBtn[2] = insertMenuBtn("française", curLang == 2);
		menuBtn[2].onclick = () => {curLang = 2; splashMenu();}
		insertMenuSlash();
		menuBtn[3] = insertMenuBtn("中文"      , curLang == 3);
		menuBtn[3].onclick = () => {curLang = 3; splashMenu();}
		insertMenuSlash();
		insertMenuNewLine();

		// ROTATION
	    	insertMenuBtn(langs[curLang][2], 1);
		insertMenuSlash(); 
		menuBtn[10] = insertMenuBtn("0", !rotate);
		menuBtn[10].onclick = () => {rotate = false; splashMenu();}
		insertMenuSlash();
		menuBtn[11] = insertMenuBtn("1", rotate);
		menuBtn[11].onclick = () => {rotate = true; splashMenu();}
		insertMenuSlash();

		// EXIT 
		menuBtn[9] = insertMenuBtn(">", true);
		menuBtn[9].onclick = () => runProgram();
		
		// ABOUT
		insertMenuNewLine();
		insertMenuNewLine();
		insertMenuNewLine();
		menuBtn[12] = insertMenuBtn(langs[curLang][0], 0);
		menuBtn[12].onclick = () => {}
	}
	function insertMenuBtn(text, active) {
		var btn = document.createElement("BUTTON"); 
	    	btn.innerHTML = text;  		
		if (active) 
		    btn.style.color = "#111";
		else btn.style.color = "#BBB";
		splashScreen.appendChild(btn);
		return btn;
	}
	function insertMenuSlash() {
		var sep = document.createElement("a");   
		sep.innerHTML = "/";                  
		splashScreen.appendChild(sep);
	}
	function insertMenuNewLine() {
		var nl = document.createElement("br");  
		splashScreen.appendChild(nl);
	}
	function runProgram(){
		sessionStorage.setItem("rotate", "" + rotate);
		window.location.href="render.html";
	}
</script>