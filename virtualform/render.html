<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<title>Virtual Solidification</title>
	<link rel="shortcut icon" href="#">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
	<link href=".//css/main.css" rel="stylesheet">
</head>
<body>
<div id="splash-screen"></div>
</body>	
</html>

<script src=".//js/threex.windowresize.js"></script>
<script type="module">
	const splashScreen  = document.getElementById('splash-screen' );
	
	// spash menu vars
	var menuBtn = [];
	var rotate = true;
	var vr = false;
	var english = ["about", "rotation ", "virtual reality"];
	var german =  ["Über", "drehung ", "virtuelle Realität"];
	var french =  ["sur", "tourner ", "réalité virtuelle"];
	var viatnamese = ["trong khoảng", "quay ", "thực tế ảo"];
	var japanese = ["約", "回転する", "バーチャルリアリティ"];
	var chinese = ["关于", "旋转 ", "虚拟现实"];
	var langs =   [english,german,french,viatnamese,japanese,chinese];
	var curLang = 5;
    
// -- ▼ MAIN ------------------------------------------------------------------------------------>
   
    // starts program, calls init() when completed
	splashMenu();

	// rebuilds from scratch, each time a variable is changed
	function splashMenu() {
		while(splashScreen.firstChild) {
			splashScreen.removeChild(splashScreen.firstChild);
		}	
		// LANGUAGE
		menuBtn[0] = insertMenuBtn("english"   , curLang == 0);
		menuBtn[0].onclick = () => {curLang = 0; splashMenu();}
		insertMenuSlash();
		menuBtn[1] = insertMenuBtn("deutsche"  , curLang == 1);
		menuBtn[1].onclick = () => {curLang = 1; splashMenu();}
		insertMenuSlash();
		menuBtn[2] = insertMenuBtn("française" , curLang == 2);
		menuBtn[2].onclick = () => {curLang = 2; splashMenu();}
		insertMenuSlash();
//		menuBtn[3] = insertMenuBtn("Tiếng Việt", curLang == 3);
//		menuBtn[3].onclick = () => {curLang = 3; splashMenu();}
//		insertMenuSlash();
//		menuBtn[4] = insertMenuBtn("日本語"     , curLang == 4);
//		menuBtn[4].onclick = () => {curLang = 4; splashMenu();}
//		insertMenuSlash();
		menuBtn[5] = insertMenuBtn("中文"       , curLang == 5);
		menuBtn[5].onclick = () => {curLang = 5; splashMenu();}
		insertMenuSlash();
		insertMenuNewLine();

		// ROTATION
	    insertMenuBtn(langs[curLang][1], 1);
		insertMenuSlash(); 
		menuBtn[10] = insertMenuBtn("0", !rotate);
		menuBtn[10].onclick = () => {rotate = false; splashMenu(); }
		insertMenuSlash();
		menuBtn[11] = insertMenuBtn("1", rotate);
		menuBtn[11].onclick = () => {rotate = true; splashMenu();  }
		insertMenuSlash();
		insertMenuNewLine();
			
		// VR
		insertMenuBtn(langs[curLang][2], 1);
		insertMenuSlash(); 
		menuBtn[12] = insertMenuBtn("0", !vr);
		menuBtn[12].onclick = () => {vr = false; splashMenu(); }
		insertMenuSlash();
		menuBtn[13] = insertMenuBtn("1", vr);
		menuBtn[13].onclick = () => { vr = true; splashMenu(); }
		insertMenuSlash();

		// EXIT 
		menuBtn[8] = insertMenuBtn(">", true);
		menuBtn[8].onclick = () => runProgram();
		
		// ABOUT
		insertMenuNewLine();
		insertMenuNewLine();
		insertMenuNewLine();
		menuBtn[9] = insertMenuBtn(langs[curLang][0], 0);
		menuBtn[9].onclick = () => {}
	}
	function insertMenuBtn(text, active) {
		var btn = document.createElement("BUTTON"); 
	    	btn.innerHTML = text;  		
		if (active) 
		    btn.style.color = "#111";
		else btn.style.color = "#BBB";
		splashScreen.appendChild(btn);
		return btn;
	}
	function insertMenuSlash() {
		var sep = document.createElement("a");   
		sep.innerHTML = "/";                  
		splashScreen.appendChild(sep);
	}
	function insertMenuNewLine() {
		var nl = document.createElement("br");  
		splashScreen.appendChild(nl);
	}
	function runProgram(){
		sessionStorage.setItem("rotate", "" + rotate);
		sessionStorage.setItem("vr", "" + vr);
		window.location.href="render.html";
	}
</script>
